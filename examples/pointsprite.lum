<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE lumina>
<lumina version="0.1">
    <node name="Wizard">
        <script name="Script" run="true">shader = gl.Shader(Vertexshader,Fragmentshader);
shader.Uniformi("Colormap",0);
shader.Uniform("Pointsize",World.getCamHeight());

tan = shader.Loc("Tangent");


function render(){
	Colormap.Bind(0);

	gl.Rotate(60 * World.getTime(), 0,1,0);
	gl.Rotate(60 * World.getTime(), 1,0,0);

	shader.Bind();

	Sphere.Vertex.Bind();

	gl.Disable(gl.DEPTH_TEST);
	gl.Enable(gl.BLEND);
	gl.BlendFunc(gl.SRC_ALPHA,gl.ONE);

	Sphere.Draw(gl.POINT_SPRITE);

	gl.Disable(gl.BLEND);
	gl.Enable(gl.DEPTH_TEST);

	Sphere.Vertex.Unbind();

	shader.Unbind();
	//gl.Screenshot("Point" + (10000 + Math.round(100* World.getTime()))+".png");

	}

function resizeEvent(w,h){

	shader.Uniform("Pointsize",World.getCamHeight());
	}
</script>
        <shader name="Vertexshader" type="vertex">uniform float Pointsize;

void main(void)
{
 gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex;
vec4 mod = gl_ModelViewMatrix * gl_Vertex;

gl_PointSize = 2 *Pointsize/ -mod.z ;
}
</shader>
        <shader name="Fragmentshader" type="fragment">
uniform sampler2D Colormap;
void main(void){
 
vec4 C = texture2D(Colormap,gl_PointCoord);

 gl_FragColor = C * 0.7 ;
}</shader>
        <texture name="Colormap" format="RGBA_DXT5" mipmap="true" width="32" height="32" >
            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
        </texture>
        <stream name="Sphere" vertices="256">
            <component name="Vertex" type="vertex" dim="3" format="float">
0.0795207 -0.249586 0.520498 
0.0250707 0.335448 0.0632129 
0.477069 0.279958 -0.291903 
0.375723 -0.668052 -0.119791 
0.314608 0.717353 -0.12088 
0.368437 0.821944 -0.0350187 
-0.136093 0.239193 -0.437881 
0.572004 -0.385084 -0.105933 
-0.547787 -0.624934 -0.447531 
0.112888 -0.166997 -0.660786 
0.870008 0.36889 -0.233623 
0.499542 -0.262673 -0.411679 
-0.535477 0.168977 -0.511174 
0.0431268 -0.647579 -0.519875 
0.595596 0.465309 0.313127 
-0.0771591 0.639355 0.146637 
0.63939 -0.281809 0.10497 
0.15886 -0.0948483 0.374775 
-0.80072 0.061616 0.514588 
0.755228 0.495619 0.25782 
0.258959 -0.541726 0.40124 
-0.366266 -0.342446 -0.537144 
0.302264 0.0213719 0.942931 
-0.439916 0.0922138 0.438537 
-0.773439 -0.0570331 0.18508 
0.888636 -0.0981649 -0.327298 
-0.310114 0.196963 0.666487 
-0.532217 0.350952 -0.0340994 
-0.0361284 -0.390089 0.424175 
-0.172033 0.391968 0.347873 
0.27528 -0.305768 -0.630755 
0.218212 0.254316 0.461459 
-0.343251 0.480877 -0.595574 
0.841829 0.369513 0.306261 
-0.485469 0.0648819 -0.824713 
-0.479006 0.754768 0.37225 
0.153381 0.186423 0.333113 
-0.422444 0.551534 -0.423241 
-0.757714 0.371572 -0.232336 
0.0960841 -0.405423 0.809865 
0.152399 -0.674487 -0.452178 
0.729158 -0.0152024 -0.0726757 
0.697884 -0.00804521 -0.417893 
-0.639158 0.368357 0.455101 
-0.721884 0.206218 -0.0151566 
-0.556069 -0.00294904 -0.757482 
-0.723523 -0.279115 -0.350386 
0.673656 0.636255 -0.00785116 
-0.330057 -0.211346 0.317662 
0.217766 -0.482188 -0.69754 
-0.272803 -0.423461 -0.337228 
0.167141 -0.469077 0.317493 
0.523556 -0.0251463 -0.685456 
0.766073 0.251331 0.0354294 
-0.584313 0.115121 -0.147601 
0.659878 -0.211223 -0.511346 
-0.347973 0.45872 0.277308 
0.566564 0.548772 -0.412644 
0.415818 -0.578234 -0.052212 
-0.234208 -0.396474 0.31424 
0.384153 -0.11488 -0.761777 
0.179273 0.15727 0.0597984 
0.190091 -0.276166 -0.391429 
0.219458 0.0514942 0.237851 
0.192392 -0.532688 0.659617 
-0.660701 -0.0365333 -0.549018 
0.653539 -0.418343 -0.285614 
0.556515 0.251928 0.672207 
-0.383687 -0.557981 -0.603959 
0.224884 -0.780535 0.349211 
0.564525 0.438924 -0.599295 
-0.197625 -0.368684 -0.131983 
-0.538008 -0.228504 0.065692 
-0.239571 -0.235666 -0.389184 
0.474815 -0.47911 0.299318 
0.104633 0.839182 0.371973 
0.619571 0.395696 -0.376099 
0.687819 0.236894 0.285385 
0.0370298 -0.198582 -0.275691 
0.437734 0.603793 0.355625 
0.371444 -0.624767 0.237917 
-0.317291 0.334681 0.758019 
0.30661 -0.373541 0.770028 
-0.62747 -0.685722 0.00692197 
-0.617777 -0.210957 0.412133 
0.737848 0.0947942 0.477919 
0.102886 0.86684 -0.0111862 
0.628277 0.188995 0.314402 
0.748619 0.178313 0.275542 
0.518647 0.550843 0.58982 
-0.474431 0.208758 -0.0588716 
0.746043 0.328829 -0.175035 
0.223961 0.193798 0.291203 
0.077113 -0.703316 0.158043 
-0.02038 0.0206981 -0.903001 
0.628703 -0.230683 0.275313 
-0.0957552 -0.712036 -0.173844 
0.435194 0.147442 0.625894 
0.165365 -0.106515 -0.0452772 
0.281533 0.19456 -0.554795 
0.475877 -0.0742955 -0.122876 
0.073485 -0.561728 -0.0448975 
-0.336308 -0.195242 0.121569 
0.108896 0.244333 -0.617945 
-0.0440782 -0.27979 0.30776 
-0.601995 0.29304 0.185384 
0.353108 0.192681 -0.882279 
0.121744 0.127235 -0.514748 
-0.104037 -0.0245586 0.590463 
-0.414222 0.764409 -0.267944 
0.798863 0.495276 -0.0483887 
0.731358 0.246389 0.437333 
-0.665669 -0.594046 0.25225 
-0.760021 -0.0763044 0.29709 
-0.858886 -0.212508 -0.00713807 
-0.12683 -0.413645 -0.511863 
0.323583 0.399574 -0.344768 
0.778687 0.293424 -0.317035 
0.397426 0.363843 0.808374 
-0.374121 0.504957 -0.404134 
0.618741 -0.621873 0.182221 
-0.511703 -0.727659 0.178237 
-0.486062 0.174022 -0.662326 
0.16917 -0.0472907 0.631098 
0.852135 0.0530451 0.1645 
0.458795 -0.549529 -0.471656 
0.0452573 -0.198029 -0.385663 
0.359808 0.290268 -0.113322 
-0.461955 0.406372 -0.334216 
-0.570952 0.518417 -0.483777 
0.704822 0.201525 -0.357045 
0.33592 0.0536604 0.696 
0.0287644 0.779625 0.222822 
0.473494 -0.312081 -0.280116 
-0.0254917 -0.414229 0.416525 
0.640292 0.0148191 -0.0650583 
-0.510283 0.42271 0.222482 
-0.667812 -0.0481053 0.514564 
0.690546 -0.316921 0.384927 
-0.0869716 -0.131204 0.308057 
-0.352033 0.200984 -0.740048 
0.164899 -0.578274 0.336651 
0.0577697 -0.375313 0.886444 
0.0298719 -0.2014 -0.576869 
-0.0947003 -0.679676 -0.383506 
0.560501 0.571865 0.369354 
0.192383 0.276819 0.400679 
0.0788268 -0.18677 0.644852 
0.578487 -0.251598 -0.236225 
0.662924 0.428863 0.270408 
0.0322771 0.249316 0.00480253 
0.511891 0.199413 -0.721998 
0.333414 -0.374021 -0.788847 
-0.459359 -0.600552 -0.424527 
-0.715763 -0.410797 0.122015 
0.28904 0.746828 -0.534304 
0.347992 0.258719 0.665109 
0.180814 0.235164 0.527528 
-0.280428 -0.113915 -0.242579 
0.295044 -0.798629 -0.348577 
0.611578 0.499438 -0.202449 
-0.266407 -0.211523 -0.455621 
-0.135602 0.762463 0.349699 
-0.0786967 -0.0567224 -0.415137 
-0.551169 -0.507858 0.153442 
-0.397662 -0.74784 0.498886 
-0.039689 -0.0282685 -0.615028 
-0.422497 0.617234 0.300981 
0.0722291 0.335817 -0.0683305 
-0.189465 -0.613015 0.675972 
-0.690579 0.347296 -0.352297 
-0.305607 0.0650283 -0.0855207 
0.280736 0.434183 -0.0798651 
-0.616739 0.386741 -0.111805 
-0.52728 0.306173 -0.56169 
-0.301352 0.0287034 -0.147177 
0.0425216 -0.43144 -0.639727 
-0.281507 -0.122019 0.707569 
0.366197 0.572374 -0.227403 
-0.373626 -0.208632 -0.0886192 
-0.560293 0.556781 0.245583 
-0.852724 -0.0770222 -0.182044 
-0.080127 0.203654 0.671065 
0.126653 -0.595535 0.606453 
-0.0496723 -0.230982 -0.283529 
0.255036 -0.476228 0.497357 
0.744057 -0.429702 0.105475 
-0.417886 -0.627943 0.459403 
-0.646599 0.278397 -0.703539 
-0.448232 0.0954457 -0.689596 
-0.0946377 0.721568 0.0915689 
-0.624614 -0.505664 -0.279671 
0.834789 0.25576 -0.265763 
0.230982 0.0347815 -0.242402 
0.300131 0.23894 0.387384 
0.0402365 0.790707 -0.51717 
0.35064 0.447951 -0.0712142 
0.576463 -0.646687 -0.349646 
-0.331968 0.275812 -0.635994 
-0.164673 -0.575463 -0.229437 
-0.710108 0.490309 0.0611044 
0.0474907 -0.506021 -0.550713 
-0.52913 -0.165653 0.478933 
-0.0463 -0.815013 -0.073116 
-0.46716 -0.570518 -0.443991 
-0.103154 -0.0834629 -0.39484 
0.173073 0.751864 0.0296976 
0.0310637 -0.355098 0.273313 
0.48035 0.728388 0.0674233 
-0.35249 0.152959 -0.913242 
-0.145409 0.568284 -0.72231 
0.4106 -0.53487 0.194227 
0.0454578 0.58184 -0.74639 
0.113815 -0.417137 -0.504075 
0.454551 0.231789 -0.576428 
0.44308 0.453692 -0.388025 
0.568978 0.718883 -0.35461 
-0.0422618 0.4264 0.174394 
-0.465731 -0.13052 -0.371914 
0.146244 -0.839232 -0.0636308 
0.326503 0.729746 -0.344748 
0.538243 -0.711064 0.128503 
0.601549 -0.176898 0.198581 
-0.103355 0.780841 -0.375019 
-0.300875 0.461353 0.655229 
0.635494 -0.212144 0.384975 
-0.319359 0.0152343 -0.919826 
-0.351807 -0.787456 -0.486653 
-0.0247224 -0.289263 0.11729 
0.600259 -0.218224 0.432399 
0.0947199 0.480901 -0.106248 
-0.250051 0.116395 0.681608 
-0.437236 -0.278172 0.479588 
0.0761107 -0.501476 0.293681 
0.529849 0.0740604 -0.213805 
0.856 -0.0812705 0.383491 
0.537609 0.053654 -0.209368 
0.978966 0.0665052 -0.121585 
0.435557 0.159531 -0.183166 
-0.225067 0.136759 -0.889179 
-0.926968 0.0791679 -0.341317 
-0.140773 -0.958584 -0.172536 
-0.490187 0.435025 -0.200153 
-0.821141 -0.150453 0.0258828 
-0.00430643 -0.122152 -0.476233 
0.49846 -0.0518749 0.721174 
0.609281 0.0167388 0.270492 
0.193904 0.0897709 -0.65034 
-0.319949 0.0753196 -0.711507 
0.226092 -0.114423 0.137508 
0.0924438 0.0644367 0.987055 
-0.0523182 0.0540346 0.00295953 
-0.0410899 -0.219422 0.117047 
0.247403 0.206822 -0.29782 
-0.0290799 -0.567086 0.587757 
-0.0396133 -0.714222 -0.341383 
            </component>
        </stream>
    </node>
</lumina>
